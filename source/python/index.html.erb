---
layout: default
title:  Python VNA Driver
---
<div class="page-header no-margin-top">
  <h1 class="no-margin-top">Python VNA Driver</h1>
  <p class="lead">
    The python package <code>rohdeschwarz</code> provides a VNA instrument driver for python 2.7/3.
  </p>
</div>

<h2>Requirements</h2>
<p>
  The <code>pyvisa</code> and <code>numpy</code> python packages must be installed. Numpy is tricky to install because it includes python language extensions written in C that must be compiled for your specific platform. For platforms that generally come with a compiler pre-installed (Linux, Mac OS X) this is not a problem.
</p>
<p>
  For windows, installation can be tricky. The easiest way to accommodate this is to find a precompiled version of python and numpy that work together. Download each, install python first and then install numpy. Then install rohdeschwarz.
</p>
<p>
  The following Python and Numpy combinations are known to work on Windows. Newer versions should work as well.
</p>
<div class="row">
  <div class="col-md-3">
    <ul class="list-group">
      <li class="list-group-item active">Python 2.7 x86</li>
      <li class="list-group-item"><a href="http://downloads.sourceforge.net/project/numpy/NumPy/1.10.2/numpy-1.10.2-win32-superpack-python2.7.exe?r=&ts=1456954670&use_mirror=iweb">Numpy 1.10.2 x86 for Python 2.7</a></li>
      <li class="list-group-item"><a href="https://www.python.org/ftp/python/2.7.11/python-2.7.11.msi">Python 2.7.11 x86</a></li>
    </ul>
  </div>
  <div class="col-md-3">
    <ul class="list-group">
      <li class="list-group-item active">Python 3.4 x86</li>
      <li class="list-group-item"><a href="http://downloads.sourceforge.net/project/numpy/NumPy/1.10.2/numpy-1.10.2-win32-superpack-python3.4.exe?r=&ts=1456956131&use_mirror=iweb">Numpy 1.10.2</a></li>
      <li class="list-group-item"><a href="https://www.python.org/ftp/python/3.4.4/python-3.4.4.msi">Python 3.4.4</a></li>
    </ul>
  </div>
</div>
<p>
  There is a direct tcp socket option if you prefer to connect to the instrument without installing VISA on the host machine. However, the pyvisa package is still required at the moment, even if it is not used.
</p>

<h2>Install</h2>
<p>
  As you would expect, you can install rohdeschwarz from the command line with pip:
</p>
  <% code('shell') do %>
pip install --pre rohdeschwarz
  <% end %>
<p>
  The current version as of this writing is 0.6.3dev1 (beta); the <code>--pre</code> flag indicates that you are okay with a version of rohdeschwarz that is "pre-release".
</p>

<h2>Getting Started</h2>
<p>
  The easiest way to get started is with a tcp (ethernet) connection and the <code>vna</code> command, available from the command line.
</p>
<% code('shell') do %>
vna --address <ip_address>
<% end %>
<p>
  If you are using VISA and/or GPIB, this is available from the command line as well
</p>
<% code('shell') do %>
vna --visa gpib --address <gpib_address>
<% end %>
<p>
  Within a script, the following code snippet will attempt to connect to an instrument via VISA and GPIB at the address provided.
</p>
<% code('python') do %>
from rohdeschwarz.instruments.vna import Vna

vna = Vna()
vna.open('GPIB', '17')
vna.open_log('path/to/scpi/log.txt')
# ...
vna.close_log()
vna.close()
<% end %>
<p>
  Alternatively, to connect via a direct TCP socket (no VISA installation required):
</p>
  <% code('python') do %>
from rohdeschwarz.instruments.vna import Vna

vna = Vna()
vna.open_tcp('192.168.1.101')
vna.open_log('path/to/scpi/log.txt')
# ...
vna.close_log()
vna.close()
  <% end %>
<p />
<h2> Documentation </h2>
<p>
  Unfortunately there is no documentation at the moment. However, the <a href="https://github.com/Terrabits/rohdeschwarz">source code</a> is available on Github. It is organized fairly well; you should be able to navigate it to find what you are looking for.
</p>
<p>
  <a href="https://github.com/Terrabits/rohdeschwarz">https://github.com/Terrabits/rohdeschwarz</a>
</p>
