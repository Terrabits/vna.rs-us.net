<!DOCTYPE html> <html domain="http://vna.rs-us.net"> <head> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1"> <title>Python VNA Driver</title> <meta name="author" content="Nick Lalic"> <meta name="keywords" content"Network, Analyzer, VNA, RF, Rohde, Schwarz, Software"> <meta name="description" content="Applications and software development resources for Rohde & Schwarz Vector Network Analyzers "> <link rel="stylesheet" href="/css/main.css"> <script>(function(d,e,j,h,f,c,b){d.GoogleAnalyticsObject=f;d[f]=d[f]||function(){(d[f].q=d[f].q||[]).push(arguments);},d[f].l=1*new Date();c=e.createElement(j),b=e.getElementsByTagName(j)[0];c.async=1;c.src=h;b.parentNode.insertBefore(c,b);})(window,document,"script","https://www.google-analytics.com/analytics.js","ga");ga("create","UA-79525178-1","auto");ga("send","pageview");</script> </head> <body> <div class="page-box"> <header> <div> <span> <a href="/index.html"><img src='/images/RSLogo2.svg'></a> <div class="header-text"> Rohde &amp; Schwarz North America <br/> Vector Network Analyzer Software </div> </span> </div> </header> <nav> <ul> <li><a href="/index.html">Home</a></li> <li><a href="/applications/">Applications</a></li> <li><a href="/posts.html">Blog</a></li> <li><a href="/rsatoolbox.html">C++</a></li> <li id="selected"><a href="/python/">Python</a></li> <li><a href="/contact.html">Contact</a></li> </ul> </nav> <div class="content single-column"> <p> The python package <b>rohdeschwarz</b> provides a VNA instrument driver for python 2.7/3. </p> <h2>Requirements</h2> <p> The pyvisa and numpy python packages must be installed. Numpy is tricky to install because it includes python language extensions written in C that must be compiled for your specific platform. For platforms that generally come with a compiler pre-installed (Linux, Mac OS X) this is not a problem. </p> <p> For windows, installation can be tricky. The easiest way to accommodate this is to find a precompiled version of python and numpy that work together. Download each, install python first and then install numpy. Then install rohdeschwarz. </p> <p> As of this how-to, the following Python and Numpy combinations are recommended for Windows installs. Note that also of this writing there are no precompiled 64-bit combinations. </p> <br/> <u>Python 2.7 x86</u> <ul> <li><a href="http://downloads.sourceforge.net/project/numpy/NumPy/1.10.2/numpy-1.10.2-win32-superpack-python2.7.exe?r=&ts=1456954670&use_mirror=iweb">Numpy 1.10.2 x86 for Python 2.7</a></li> <li><a href="https://www.python.org/ftp/python/2.7.11/python-2.7.11.msi">Python 2.7.11 x86</a></li> </ul> <br/> <u>Python 3.4 x86</u> <ul> <li><a href="http://downloads.sourceforge.net/project/numpy/NumPy/1.10.2/numpy-1.10.2-win32-superpack-python3.4.exe?r=&ts=1456956131&use_mirror=iweb">Numpy 1.10.2</a></li> <li><a href="https://www.python.org/ftp/python/3.4.4/python-3.4.4.msi">Python 3.4.4</a></li> </ul> <br/> <p> There is a direct tcp socket option if you prefer to connect to the instrument without installing VISA on the host machine. However, the pyvisa package is still required at the moment, even if it is not used. </p> <h2>Install</h2> <p> As you would expect, you can install rohdeschwarz from the command line with pip: </p> <div class="highlight"><pre><code class="language-ruby" data-lang="ruby"><span class="n">pip</span> <span class="n">install</span> <span class="o">--</span><span class="n">pre</span> <span class="n">rohdeschwarz</span></code></pre></div> <p> The current version as of this writing is 0.5.1dev1 (beta); the <i>--pre</i> flag indicates that you are okay with a version of rohdeschwarz that is "pre-release". </p> <h2>Getting Started</h2> <p> The following code snippet will attempt to connect to an instrument via VISA and GPIB at the address provided. </p> <div class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">from</span> <span class="nn">rohdeschwarz.instruments.vna</span> <span class="kn">import</span> <span class="n">Vna</span>

<span class="n">vna</span> <span class="o">=</span> <span class="n">Vna</span><span class="p">()</span>
<span class="n">vna</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="s">&#39;GPIB&#39;</span><span class="p">,</span> <span class="s">&#39;17&#39;</span><span class="p">)</span>
<span class="n">vna</span><span class="o">.</span><span class="n">open_log</span><span class="p">(</span><span class="s">&#39;path/to/scpi/log.txt&#39;</span><span class="p">)</span>
<span class="c"># ...</span>
<span class="n">vna</span><span class="o">.</span><span class="n">close_log</span><span class="p">()</span>
<span class="n">vna</span><span class="o">.</span><span class="n">close</span><span class="p">()</span></code></pre></div> <p> Alternatively, to connect via a direct TCP socket (no VISA installation required): </p> <div class="highlight"><pre><code class="language-python" data-lang="python"><span class="kn">from</span> <span class="nn">rohdeschwarz.instruments.vna</span> <span class="kn">import</span> <span class="n">Vna</span>

<span class="n">vna</span> <span class="o">=</span> <span class="n">Vna</span><span class="p">()</span>
<span class="n">vna</span><span class="o">.</span><span class="n">open_tcp</span><span class="p">(</span><span class="s">&#39;192.168.1.101&#39;</span><span class="p">)</span>
<span class="n">vna</span><span class="o">.</span><span class="n">open_log</span><span class="p">(</span><span class="s">&#39;path/to/scpi/log.txt&#39;</span><span class="p">)</span>
<span class="c"># ...</span>
<span class="n">vna</span><span class="o">.</span><span class="n">close_log</span><span class="p">()</span>
<span class="n">vna</span><span class="o">.</span><span class="n">close</span><span class="p">()</span></code></pre></div> <p/> <h2> Documentation </h2> <p> Unfortunately there is no documentation at the moment. However, <a href="https://github.com/Terrabits/rohdeschwarz">the source code is available on Github.</a> It is organized fairly well; you should be able to navigate it to find what you are looking for. </p> </div> <footer> &copy; 2016 Rohde &amp; Schwarz North America. </footer> </div> </body> </html>